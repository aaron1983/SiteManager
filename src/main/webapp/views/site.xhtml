<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui"
>
<f:view contentType="text/html"/>
<h:head>
    <title>EcoTower Management System</title>
</h:head>
<h:body>
    <h:form id="main-form">

        <div class="ui-grid ui-grid-responsive">
            <p:tabMenu activeIndex="#{param.i}">
                <p:menuitem value="Home" outcome="/index.xhtml" icon="ui-icon-star">
                    <f:param name="i" value="0"/>
                </p:menuitem>

            </p:tabMenu>

            <ui:composition template="/layout/template.xhtml">
                <ui:param name="pageTitle" value="Sites"/>
                <ui:define name="content">
                    <p:tabView id="tabView">
                        <p:tab id="site_add" title="New Site">
                            <!--div class="ui-grid-row">
                                <div class="ui-grid-col-6">
                                    <p:panel id="add" header="General Information">
                                        <p:growl id="siteMessages" showSummary="true" severity="info"/>
                                        <h:panelGrid id="gridId" columns="2" cellpadding="2">
                                            <p:outputLabel for="siteId" value="Id:"/>
                                            <p:inputText id="siteId" required="true" size="10" />
                                            <p:outputLabel for="name" value="Name:" />
                                            <p:inputText id="name" required="true" size="30" />
                                            <p:outputLabel for="province" value="Province: "/>
                                            <p:selectOneMenu id="province" converter="#{provinceConverter}"  value="#{provinceMBean.province}" immediate="true" style="width:100px">
                                                <p:ajax event="change" />
                                                <f:selectItem itemValue="#{null}" itemLabel="Select" noSelectionOption="true"/>
                                                <f:selectItems value="#{provinceMBean.provinces}" var="province"
                                                               itemLabel="#{province.name}"/>
                                            </p:selectOneMenu>
                                            <p:outputLabel for="address" value="Adress:" />
                                            <p:inputTextarea id="address" required="true" rows="3" cols="30" />
                                            <p:outputLabel for="landOwner" value="Land Owner:"  />
                                            <p:inputText id="landOwner" required="true" size="30" />
                                            <p:outputLabel for="landLord" value="Land Lord:" />
                                            <p:inputText id="landLord" required="true" size="30" />
                                            <p:outputLabel for="longitude" value="Longitude:" />
                                            <p:inputNumber id="longitude" required="true" />
                                            <p:outputLabel for="latitude" value="Latitude:" />
                                            <p:inputNumber id="latitude" required="true" />
                                            <p:outputLabel for="altitude" value="Altitude:" />
                                            <p:inputNumber id="altitude" required="true" />
                                            <p:outputLabel for="dateAcquired" value="Date Acquired:" />
                                            <p:calendar id="dateAcquired" value="#{calendarView.date9}" pattern="dd-MM-yyyy" mask="true" />
                                            <p:outputLabel for="accessRules" value="Access Rules:" />
                                            <p:inputTextarea id="accessRules" rows="3" cols="30" />
                                        </h:panelGrid>
                                        <p:separator />
                                        <p:commandButton value="Add new" update="siteMessages" icon="ui-icon-check" />
                                        <p:commandButton value="Save" update="siteMessages" icon="i-" />
                                        <p:commandButton value="Update" update="siteMessages" icon="ui-icon-check" />

                                    </p:panel>
                                </div>
                                <div class="ui-grid-col-6">
                                    <p:panel id="add_compound" header="Compound Information">
                                        <h:panelGrid id="cgridId" columns="2" cellpadding="2">
                                            <p:outputLabel for="siteType" value="Site Type: "/>
                                            <p:selectOneMenu id="siteType" converter="#{siteTypeConverter}"  value="#{siteTypeMBean.siteType}" immediate="true" style="width:100px">
                                                <p:ajax event="change" />
                                                <f:selectItem itemValue="#{null}" itemLabel="Select type" noSelectionOption="true" />
                                                <f:selectItems value="#{siteTypeMBean.siteTypes}" var="siteType"
                                                               itemLabel="#{siteType.name}"/>
                                            </p:selectOneMenu>
                                            <p:outputLabel for="siteSize" value="Site Size:" />
                                            <p:inputNumber id="siteSize"/>
                                            <p:outputLabel for="tenants" value="Tenants:" />
                                            <p:inputNumber id="tenants"/>
                                            <p:outputLabel for="spaceForAdditionalTenants" value="Space for + Tenants:" />
                                            <p:inputNumber id="spaceForAdditionalTenants"/>
                                            <p:outputLabel for="spaceForAdditionalTenantsEquipment" value="Space for + Tenants Equipements:" />
                                            <p:inputNumber id="spaceForAdditionalTenantsEquipment"/>
                                            <p:outputLabel for="fence_type" value="Fence type:" />
                                            <p:inputText id="fence_type"  size="30" />
                                            <p:outputLabel for="physicalSecurity" value="Physical security: "/>
                                            <p:inputText id="physicalSecurity" size="20" />
                                            <p:outputLabel for="security_company_name" value="Security company:"  />
                                            <p:inputText id="security_company_name" size="30" />
                                            <p:outputLabel for="lockingSystem" value="Locking system:" />
                                            <p:inputText id="lockingSystem" size="30" />
                                            <p:outputLabel for="accessibility" value="Accessibility:" />
                                            <p:inputTextarea id="accessibility" required="true" rows="2" cols="30" />
                                            <p:outputLabel for="accessRoadType" value="Access road type:" />
                                            <p:inputText id="accessRoadType" size="20"/>
                                            <p:outputLabel for="access_road_condition" value="Access road condition:" />
                                            <p:inputText id="access_road_condition"/>
                                            <p:outputLabel for="overall_site_condition" value="Overall site condition:" />
                                            <p:inputTextarea id="overall_site_condition" rows="3" cols="30" />
                                        </h:panelGrid>

                                    </p:panel>
                                </div>
                            </div>
                            <p:separator />
                            <p:commandButton value="Update details" update="siteMessages" icon="ui-icon-check" /-->
                            <div class="ui-grid-col-12">
                                <h:panelGrid columns="2" styleClass="form-grid"
                                             columnClasses="form-column-label,form-column-input">

                                    <h:dataTable var="sites" value="#{siteManagedBean.sites}">
                                        <f:facet name="header">Available sites</f:facet>
                                        <h:column headerText="Id">
                                            <h:outputText value="#{site.id}"/>
                                        </h:column>
                                        <h:column headerText="Name">
                                            <h:outputText value="#{site.name}"/>
                                        </h:column>
                                        <h:column headerText="Commune">
                                            <h:outputText value="#{site.commune.name}"/>
                                        </h:column>
                                        <h:column headerText="Province">
                                            <h:outputText value="#{site.province.name}"/>
                                        </h:column>
                                        <h:column headerText="Land Owner">
                                            <h:outputText value="#{site.landOwner}"/>
                                        </h:column>
                                        <h:column headerText="Land lord">
                                            <h:outputText value="#{site.landLord}"/>
                                        </h:column>
                                        <h:column headerText="Longitude">
                                            <h:outputText value="#{site.longitude}"/>
                                        </h:column>
                                        <h:column headerText="Latitude">
                                            <h:outputText value="#{site.latitude}"/>
                                        </h:column>
                                        <h:column headerText="Longitude">
                                            <h:outputText value="#{site.longitude}"/>
                                        </h:column>
                                        <h:column headerText="Latitude">
                                            <h:outputText value="#{site.latitude}"/>
                                        </h:column>
                                        <h:column headerText="Altitude">
                                            <h:outputText value="#{site.altitude}"/>
                                        </h:column>
                                        <h:column headerText="Date Acquired">
                                            <h:outputText value="#{site.dateAcquired}"/>
                                        </h:column>
                                        <h:column headerText="Access Rules">
                                            <h:outputText value="#{site.accessRules}"/>
                                        </h:column>
                                    </h:dataTable>


                                </h:panelGrid>
                            </div>
                        </p:tab>
                        <p:tab id="site_infos" title="Site details">
                        </p:tab>
                        <h:link outcome="site_details.xhtml">
                            <f:param name="site_id" value=""/>
                        </h:link>
                    </p:tabView>
                </ui:define>
            </ui:composition>
        </div>
    </h:form>
</h:body>
</html>
